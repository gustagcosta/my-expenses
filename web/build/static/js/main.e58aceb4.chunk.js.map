{"version":3,"sources":["services/storage.ts","services/api.ts","contexts/AuthContext.tsx","components/Layout.tsx","components/ErrorAlert.tsx","components/BillDialog.tsx","components/DeleteBillDialog.tsx","pages/IndexPage.tsx","pages/SignInPage.tsx","pages/SignUpPage.tsx","App.tsx","index.tsx"],"names":["getToken","localStorage","getItem","storeToken","token","setItem","storeUser","user","JSON","stringify","api","url","method","a","body","headers","Accept","fetch","response","AuthContext","createContext","AuthProvider","children","useState","parse","setUser","email","password","status","json","message","Provider","value","signIn","logout","removeItem","Layout","title","useContext","history","useHistory","anchorEl","setAnchorEl","open","Boolean","document","handleLogout","push","AppBar","position","Toolbar","Typography","variant","component","sx","flexGrow","name","Button","onClick","color","display","Fab","size","style","margin","top","right","bottom","left","event","currentTarget","Menu","id","onClose","e","MenuListProps","MenuItem","ListItemIcon","to","textDecoration","Container","ErrorAlert","type","error","handleClose","Alert","action","IconButton","aria-label","fontSize","severity","BillDialog","reload","edit","bill","Date","expireDate","setExpireDate","setError","setValue","description","setDescription","useEffect","expire_date","handleSave","expireDateParse","format","resetState","Dialog","fullWidth","DialogTitle","DialogContent","TextField","autoFocus","label","onChange","target","LocalizationProvider","dateAdapter","AdapterDateFns","DatePicker","newValue","renderInput","params","padding","DialogActions","DeleteBillDialog","handleConfirm","IndexPage","bills","setBills","newBill","setNewBill","editBill","setEditBill","deleteBill","setDeleteBill","setBill","loadBills","console","log","mt","ml","length","List","width","map","date","ListItem","secondaryAction","ListItemText","primary","secondary","Fragment","Box","SignInPage","useForm","register","handleSubmit","data","marginTop","flexDirection","alignItems","onSubmit","isBrowser","noValidate","required","autoComplete","mb","Link","href","SignUp","PrivateRoute","Component","rest","render","props","pathname","state","from","location","App","darkTheme","createTheme","palette","mode","ThemeProvider","theme","CssBaseline","path","exact","SignUpPage","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e58aceb4.chunk.js","sourcesContent":["import { User } from '../interfaces'\n\nexport const getToken = () => localStorage.getItem('TOKEN_KEY')\n\nexport const getUser = () => JSON.parse(localStorage.getItem('USER') as string)\n\nexport const storeToken = (token: string) =>\n  localStorage.setItem('TOKEN_KEY', token)\n\nexport const storeUser = (user: User) =>\n  localStorage.setItem('USER', JSON.stringify(user))\n\nexport const clearStorage = () => {\n  localStorage.removeItem('TOKEN_KEY')\n  localStorage.removeItem('USER')\n}\n","import { getToken } from './storage'\n\nasync function api(url: string, method: string, body: object = null) {\n\n  const headers = {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n  }\n\n  const token = getToken()\n\n  if (token) {\n    headers['Authorization'] = `Bearer ${token}`\n  }\n\n  const response = await fetch(`${url}`, {\n    headers,\n    method,\n    body: body ? JSON.stringify(body) : null,\n  })\n\n  return response\n}\n\nexport { api }\n","import { createContext, useEffect, useState } from 'react'\nimport { api } from '../services/api'\nimport { User } from '../interfaces'\nimport {\n  clearStorage,\n  getToken,\n  getUser,\n  storeToken,\n  storeUser,\n} from '../services/storage'\n\ntype SignInData = {\n  email: string\n  password: string\n}\n\ntype AuthContextType = {\n  user: User\n  signIn: (data: SignInData) => Promise<void>\n  logout: () => void\n}\n\nexport const AuthContext = createContext({} as AuthContextType)\n\nexport function AuthProvider({ children }) {\n  const [user, setUser] = useState<User | null>(getUser())\n\n  async function signIn({ email, password }: SignInData) {\n    try {\n      const response = await api(`/api/v1/login`, 'POST', {\n        email,\n        password,\n      })\n\n      if (response.status === 200) {\n        const { user, token } = await response.json()\n\n        storeUser(user)\n        storeToken(token)\n\n        setUser(user)\n      } else {\n        const error = await response.json()\n        throw error.message\n      }\n    } catch (error) {\n      throw error\n    }\n  }\n\n  function logout() {\n    clearStorage()\n    setUser(null)\n  }\n\n  return (\n    <AuthContext.Provider\n      value={{\n        user,\n        signIn,\n        logout,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  )\n}\n","import {\n  AppBar,\n  Container,\n  Toolbar,\n  Typography,\n  Button,\n  Fab,\n  Menu,\n  MenuItem,\n  ListItemIcon,\n} from '@mui/material'\nimport { ReactNode, useContext, useState } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport { AuthContext } from '../contexts/AuthContext'\nimport MenuIcon from '@mui/icons-material/Menu'\nimport LogoutIcon from '@mui/icons-material/Logout'\nimport AddIcon from '@mui/icons-material/Add'\nimport LoginIcon from '@mui/icons-material/Login'\nimport PersonAddIcon from '@mui/icons-material/PersonAdd'\nimport { BrowserView, MobileView } from 'react-device-detect'\nimport BillDialog from './BillDialog'\n\ntype Props = {\n  children?: ReactNode\n  title?: string\n}\n\nexport default function Layout({ children, title }: Props) {\n  const { logout, user } = useContext(AuthContext)\n  const history = useHistory()\n\n  const [anchorEl, setAnchorEl] = useState(null)\n\n  const open = Boolean(anchorEl)\n\n  document.title = 'My Expenses ' + title\n\n  const handleLogout = () => {\n    logout()\n    history.push('/sign-in')\n  }\n\n  return (\n    <div>\n      <AppBar position='static'>\n        <Toolbar>\n          <Typography variant='h6' component='div' sx={{ flexGrow: 1 }}>\n            My Expenses {user && ` - ${user.name}`}\n          </Typography>\n          <BrowserView>\n            {user && [\n              <Button\n                onClick={handleLogout}\n                sx={{ color: 'white', display: 'inline-block' }}\n              >\n                Logout\n              </Button>,\n            ]}\n          </BrowserView>\n        </Toolbar>\n      </AppBar>\n\n      <MobileView>\n        <Fab\n          size='small'\n          color='primary'\n          style={{\n            margin: 0,\n            top: 'auto',\n            right: 20,\n            bottom: 20,\n            left: 'auto',\n            position: 'fixed',\n          }}\n          onClick={(event) => setAnchorEl(event.currentTarget)}\n        >\n          <MenuIcon />\n        </Fab>\n\n        <Menu\n          id='basic-menu'\n          anchorEl={anchorEl}\n          open={open}\n          onClose={(e) => setAnchorEl(null)}\n          MenuListProps={{\n            'aria-labelledby': 'basic-button',\n          }}\n        >\n          {user\n            ? [\n                \n                <MenuItem onClick={handleLogout}>\n                  <ListItemIcon>\n                    <LogoutIcon />\n                  </ListItemIcon>\n                  Logout\n                </MenuItem>,\n              ]\n            : [\n                <MenuItem onClick={(e) => setAnchorEl(null)}>\n                  <ListItemIcon>\n                    <PersonAddIcon />\n                  </ListItemIcon>\n                  <Link\n                    to='/sign-up'\n                    style={{ textDecoration: 'none', color: 'inherit' }}\n                  >\n                    Sign Up\n                  </Link>\n                </MenuItem>,\n                <MenuItem onClick={(e) => setAnchorEl(null)}>\n                  <ListItemIcon>\n                    <LoginIcon />\n                  </ListItemIcon>\n                  <Link\n                    to='/sign-in'\n                    style={{ textDecoration: 'none', color: 'inherit' }}\n                  >\n                    Sign In\n                  </Link>\n                </MenuItem>,\n              ]}\n        </Menu>\n      </MobileView>\n\n      <Container component='main'>{children}</Container>\n\n      \n    </div>\n  )\n}\n","import { Alert, AlertColor, IconButton } from '@mui/material'\nimport CloseIcon from '@mui/icons-material/Close'\n\nexport default function ErrorAlert({\n  type = 'error' as AlertColor,\n  error,\n  handleClose,\n}) {\n  return (\n    <Alert\n      action={\n        <IconButton\n          aria-label='close'\n          color='inherit'\n          size='small'\n          onClick={handleClose}\n        >\n          <CloseIcon fontSize='inherit' />\n        </IconButton>\n      }\n      severity={type}\n    >\n      {error}\n    </Alert>\n  )\n}\n","import {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  TextField,\n} from '@mui/material'\nimport AdapterDateFns from '@mui/lab/AdapterDateFns'\nimport LocalizationProvider from '@mui/lab/LocalizationProvider'\nimport DatePicker from '@mui/lab/DatePicker'\nimport { useEffect, useState } from 'react'\n\nimport ErrorAlert from './ErrorAlert'\nimport { api } from '../services/api'\nimport { format } from 'date-fns'\n\ntype Bill = {\n  id: string\n  expire_date: string\n  value: string\n  description: string\n}\n\ntype Props = {\n  open: boolean\n  handleClose: () => void\n  reload: () => void\n  edit?: boolean\n  bill?: Bill\n}\n\nexport default function BillDialog({\n  open,\n  handleClose,\n  reload,\n  edit = null,\n  bill = null,\n}: Props) {\n  const [expireDate, setExpireDate] = useState<Date | null>(new Date())\n  const [error, setError] = useState<String | null>('')\n  const [value, setValue] = useState<String | null>('')\n  const [description, setDescription] = useState<String | null>('')\n\n  useEffect(() => {\n    if (edit) {\n      setExpireDate(new Date(bill.expire_date))\n      setValue(bill.value)\n      setDescription(bill.description)\n    }\n  }, [edit, bill])\n\n  const handleSave = async () => {\n    setError('')\n\n    let expireDateParse = format(expireDate, 'yyyyMMdd')\n\n    const method = edit ? 'PUT' : 'POST'\n\n    const body = edit\n      ? {\n          id: bill.id,\n          expire_date: expireDateParse,\n          value,\n          description,\n        }\n      : {\n          expire_date: expireDateParse,\n          value,\n          description,\n        }\n\n    const response = await api(`/api/v1/bills`, method, body)\n\n    if (response.status === 200) {\n      resetState()\n      handleClose()\n      reload()\n    } else {\n      const error = await response.json()\n      setError(error.message)\n    }\n  }\n\n  const resetState = () => {\n    setValue('')\n    setDescription('')\n    setExpireDate(null)\n    setError('')\n  }\n\n  return (\n    <div>\n      <Dialog open={open} onClose={handleClose} fullWidth>\n        <DialogTitle>{edit ? 'Update Bill' : 'Create Bill'}</DialogTitle>\n        <DialogContent>\n          <TextField\n            autoFocus\n            margin='dense'\n            id='description'\n            label='Description'\n            type='text'\n            fullWidth\n            variant='standard'\n            value={description}\n            onChange={(e) => setDescription(e.target.value)}\n          />\n          <TextField\n            margin='dense'\n            id='value'\n            label='Value'\n            type='text'\n            fullWidth\n            variant='standard'\n            value={value}\n            onChange={(e) => setValue(e.target.value)}\n          />\n          <br />\n          <br />\n          <LocalizationProvider dateAdapter={AdapterDateFns}>\n            <DatePicker\n              label='Expire Date'\n              value={expireDate}\n              onChange={(newValue) => {\n                setExpireDate(newValue)\n              }}\n              renderInput={(params) => <TextField {...params} />}\n            />\n          </LocalizationProvider>\n        </DialogContent>\n        <div style={{ padding: '15px' }}>\n          {error && (\n            <ErrorAlert error={error} handleClose={() => setError(null)} />\n          )}\n        </div>\n        <DialogActions>\n          <Button onClick={handleClose}>Cancel</Button>\n          <Button onClick={handleSave}>{edit ? 'Save' : 'Create'}</Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  )\n}\n","import {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  TextField,\n} from '@mui/material'\nimport AdapterDateFns from '@mui/lab/AdapterDateFns'\nimport LocalizationProvider from '@mui/lab/LocalizationProvider'\nimport DatePicker from '@mui/lab/DatePicker'\nimport { useEffect, useState } from 'react'\n\nimport ErrorAlert from './ErrorAlert'\nimport { api } from '../services/api'\nimport { format } from 'date-fns'\n\ntype Bill = {\n  id: string\n}\n\ntype Props = {\n  open: boolean\n  handleClose: () => void\n  reload: () => void\n  bill: Bill\n}\n\nexport default function DeleteBillDialog({ open, handleClose, reload, bill }: Props) {\n  const [error, setError] = useState<String | null>('')\n\n  const handleConfirm = async () => {\n    setError('')\n\n    const response = await api(`/api/v1/bills/${bill.id}`, 'DELETE')\n\n    if (response.status === 200) {\n      handleClose()\n      reload()\n    } else {\n      const error = await response.json()\n      setError(error.message)\n    }\n  }\n\n  return (\n    <div>\n      <Dialog open={open} onClose={handleClose} fullWidth>\n        <DialogTitle>{'Delete Bill'}</DialogTitle>\n        <DialogContent>\n          <div style={{ padding: '15px' }}>\n            Are you sure you want to delete this account? this action is\n            permanently\n          </div>\n          <div style={{ padding: '15px' }}>\n            {error && (\n              <ErrorAlert error={error} handleClose={() => setError(null)} />\n            )}\n          </div>\n        </DialogContent>\n\n        <DialogActions>\n          <Button onClick={handleClose}>Cancel</Button>\n          <Button onClick={handleConfirm}>Confirm</Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  )\n}\n","import React, { useContext, useEffect, useState } from 'react'\nimport { useHistory } from 'react-router-dom'\n// import { DataGrid } from '@mui/x-data-grid'\nimport {\n  Grid,\n  Box,\n  List,\n  ListItem,\n  Divider,\n  Typography,\n  ListItemText,\n  ListItemButton,\n  ListItemIcon,\n  IconButton,\n  Button,\n} from '@mui/material'\nimport DeleteIcon from '@mui/icons-material/Delete'\nimport EditIcon from '@mui/icons-material/Edit'\nimport { format, toDate } from 'date-fns'\n\nimport Layout from '../components/Layout'\nimport { AuthContext } from '../contexts/AuthContext'\nimport { api } from '../services/api'\nimport ErrorAlert from '../components/ErrorAlert'\nimport BillDialog from '../components/BillDialog'\nimport DeleteBillDialog from '../components/DeleteBillDialog'\n\nexport default function IndexPage() {\n  const { user, logout } = useContext(AuthContext)\n\n  const history = useHistory()\n\n  const [bills, setBills] = useState([])\n  const [error, setError] = useState(null)\n  const [newBill, setNewBill] = useState(false)\n  const [editBill, setEditBill] = useState(false)\n  const [deleteBill, setDeleteBill] = useState(false)\n  const [bill, setBill] = useState(null)\n\n  useEffect(() => {\n    if (!user) {\n      history.push('/sign-in')\n    }\n\n    loadBills()\n  }, [history, user])\n\n  const loadBills = async () => {\n    setError('')\n\n    const response = await api(`/api/v1/bills`, 'GET')\n\n    if (response.status === 200) {\n      const bills = await response.json()\n      console.log(bills)\n      setBills(bills)\n    } else if (response.status === 401) {\n      logout()\n    } else {\n      const error = await response.json()\n      setError(error.message)\n    }\n  }\n\n  return (\n    <Layout title='Index'>\n      {error && <ErrorAlert error={error} handleClose={() => setError(null)} />}\n      <div>\n        <Button\n          onClick={() => setNewBill(true)}\n          variant='contained'\n          sx={{ display: 'inline-block', mt: 1, ml: 2 }}\n        >\n          New\n        </Button>\n      </div>\n      {bills.length > 0 ? (\n        <List sx={{ width: '100%' }}>\n          {bills.map((bill) => {\n            const date = format(new Date(bill.expire_date), 'dd/MM/yyyy')\n            return (\n              <ListItem\n                secondaryAction={[\n                  <IconButton>\n                    <EditIcon\n                      onClick={() => {\n                        setEditBill(true)\n                        setBill(bill)\n                      }}\n                    />\n                  </IconButton>,\n                  <IconButton>\n                    <DeleteIcon\n                      onClick={() => {\n                        setDeleteBill(true)\n                        setBill(bill)\n                      }}\n                    />\n                  </IconButton>,\n                ]}\n              >\n                <ListItemText\n                  primary={`${date} - ${bill.value} `}\n                  secondary={\n                    <React.Fragment>{bill.description}</React.Fragment>\n                  }\n                />\n              </ListItem>\n            )\n          })}\n        </List>\n      ) : (\n        <Box sx={{ mt: 2 }}>No bills found, create a new now</Box>\n      )}\n      {newBill && (\n        <BillDialog\n          reload={() => loadBills()}\n          open={newBill}\n          handleClose={() => setNewBill(false)}\n        />\n      )}\n\n      {editBill && (\n        <BillDialog\n          reload={() => loadBills()}\n          open={editBill}\n          bill={bill}\n          edit={true}\n          handleClose={() => setEditBill(false)}\n        />\n      )}\n\n      {deleteBill && (\n        <DeleteBillDialog\n          reload={() => loadBills()}\n          open={deleteBill}\n          bill={bill}\n          handleClose={() => setDeleteBill(false)}\n        />\n      )}\n    </Layout>\n  )\n}\n","import { Box, Button, TextField, Link } from '@mui/material'\nimport { useForm } from 'react-hook-form'\nimport { useContext, useEffect, useState } from 'react'\nimport { useHistory, Link as LinkRouter } from 'react-router-dom'\nimport { isBrowser } from 'react-device-detect'\n\nimport Layout from '../components/Layout'\nimport { AuthContext } from '../contexts/AuthContext'\nimport ErrorAlert from '../components/ErrorAlert'\n\nexport default function SignInPage() {\n  const [error, setError] = useState('')\n  const { register, handleSubmit } = useForm()\n  const { signIn, user } = useContext(AuthContext)\n  const history = useHistory()\n\n  useEffect(() => {\n    if (user) {\n      history.push('/')\n    }\n  }, [])\n\n  async function handleSignIn(data: any) {\n    try {\n      await signIn(data)\n      history.push('/')\n    } catch (error) {\n      console.error(error)\n      setError(error)\n    }\n  }\n\n  return (\n    <Layout title={'Login'}>\n      <Box\n        sx={{\n          marginTop: 8,\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n        }}\n      >\n        <Box\n          component='form'\n          onSubmit={handleSubmit(handleSignIn)}\n          sx={isBrowser ? { mt: 1, width: '70%' } : { mt: 1, width: '90%' }}\n          noValidate\n        >\n          <TextField\n            margin='normal'\n            required\n            fullWidth\n            id='email'\n            label='Email Address'\n            name='email'\n            autoComplete='email'\n            autoFocus\n            {...register('email')}\n          />\n          <TextField\n            {...register('password')}\n            margin='normal'\n            required\n            fullWidth\n            name='password'\n            label='Password'\n            type='password'\n            id='password'\n            autoComplete='current-password'\n          />\n          <Button\n            type='submit'\n            fullWidth\n            variant='contained'\n            sx={{ mt: 3, mb: 2 }}\n          >\n            Sign In\n          </Button>\n          <Link href='/sign-up' variant='body2'>\n            <LinkRouter\n              to='/sign-up'\n              style={{ textDecoration: 'none', color: 'inherit' }}\n            >\n              {\"Don't have an account? Sign Up\"}\n            </LinkRouter>\n          </Link>\n          {error && (\n            <ErrorAlert error={error} handleClose={() => setError(null)} />\n          )}\n        </Box>\n      </Box>\n    </Layout>\n  )\n}\n","import { Button, TextField, Link, Box } from '@mui/material'\nimport { useForm } from 'react-hook-form'\nimport { useContext, useEffect, useState } from 'react'\nimport { useHistory, Link as LinkRouter } from 'react-router-dom'\nimport { isBrowser } from 'react-device-detect'\n\nimport ErrorAlert from '../components/ErrorAlert'\nimport Layout from '../components/Layout'\nimport { AuthContext } from '../contexts/AuthContext'\nimport { api } from '../services/api'\n\nexport default function SignUp() {\n  const [error, setError] = useState(null)\n  const { register, handleSubmit } = useForm()\n  const history = useHistory()\n  const { user, signIn } = useContext(AuthContext)\n\n  useEffect(() => {\n    if (user) {\n      history.push('/')\n    }\n  }, [])\n\n  async function handleSignUp({ name, email, password }) {\n    setError('')\n\n    const response = await api(`/api/v1/register`, 'POST', {\n      name,\n      email,\n      password,\n    })\n\n    if (response.status === 200) {\n      await signIn({ email, password })\n      history.push('/')\n    } else {\n      const error = await response.json()\n      setError(error.message)\n    }\n  }\n\n  return (\n    <Layout title={'Login'}>\n      <Box\n        sx={{\n          marginTop: 8,\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n        }}\n      >\n        <Box\n          component='form'\n          onSubmit={handleSubmit(handleSignUp)}\n          noValidate\n          sx={isBrowser ? { mt: 1, width: '70%' } : { mt: 1, width: '90%' }}\n        >\n          <TextField\n            margin='normal'\n            required\n            fullWidth\n            id='name'\n            label='Name'\n            name='name'\n            autoComplete='name'\n            autoFocus\n            {...register('name')}\n          />\n          <TextField\n            margin='normal'\n            required\n            fullWidth\n            id='email'\n            label='Email Address'\n            name='email'\n            autoComplete='email'\n            {...register('email')}\n          />\n          <TextField\n            margin='normal'\n            required\n            fullWidth\n            name='password'\n            label='Password'\n            type='password'\n            id='password'\n            autoComplete='current-password'\n            {...register('password')}\n          />\n          <Button\n            type='submit'\n            fullWidth\n            variant='contained'\n            sx={{ mt: 3, mb: 2 }}\n          >\n            Sign Up\n          </Button>\n          <Link variant='body2'>\n            <LinkRouter\n              to='/sign-in'\n              style={{ textDecoration: 'none', color: 'inherit' }}\n            >\n              {'Already have an account? Sign in'}\n            </LinkRouter>\n          </Link>\n          {error && (\n            <ErrorAlert error={error} handleClose={() => setError(null)} />\n          )}\n        </Box>\n      </Box>\n    </Layout>\n  )\n}\n","import { createTheme, ThemeProvider } from '@mui/material/styles'\nimport { useContext } from 'react'\nimport {\n  BrowserRouter as Router,\n  Redirect,\n  Route,\n  Switch,\n} from 'react-router-dom'\nimport { AuthContext } from './contexts/AuthContext'\nimport CssBaseline from '@mui/material/CssBaseline'\nimport { AuthProvider } from './contexts/AuthContext'\n\nimport IndexPage from './pages/IndexPage'\nimport SignInPage from './pages/SignInPage'\nimport SignUpPage from './pages/SignUpPage'\n\nimport './styles/global.css'\n\nfunction PrivateRoute({ component: Component, ...rest }) {\n  const { user } = useContext(AuthContext)\n\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        user ? (\n          <Component {...props} />\n        ) : (\n          <Redirect\n            to={{ pathname: '/sign-in', state: { from: props.location } }}\n          />\n        )\n      }\n    />\n  )\n}\n\nexport default function App() {\n  const darkTheme = createTheme({\n    palette: {\n      mode: 'dark',\n    },\n  })\n  return (\n    <ThemeProvider theme={darkTheme}>\n      <CssBaseline />\n      <AuthProvider>\n        <Router>\n          <Switch>\n            <PrivateRoute path='/' component={IndexPage} exact />\n            <Route path='/sign-in' component={SignInPage} exact />\n            <Route path='/sign-up' component={SignUpPage} exact />\n          </Switch>\n        </Router>\n      </AuthProvider>\n    </ThemeProvider>\n  )\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}