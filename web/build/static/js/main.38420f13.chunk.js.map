{"version":3,"sources":["services/storage.ts","services/api.ts","contexts/AuthContext.tsx","components/ErrorAlert.tsx","components/BillDialog.tsx","components/Layout.tsx","pages/IndexPage.tsx","pages/SignInPage.tsx","pages/SignUpPage.tsx","App.tsx","index.tsx"],"names":["getToken","localStorage","getItem","storeToken","token","setItem","storeUser","user","JSON","stringify","api","url","method","a","body","headers","Accept","fetch","response","AuthContext","createContext","AuthProvider","children","useState","parse","setUser","email","password","status","json","message","Provider","value","signIn","logout","removeItem","ErrorAlert","type","error","handleClose","Alert","action","IconButton","aria-label","color","size","onClick","fontSize","severity","BillDialog","open","reload","Date","expireDate","setExpireDate","setError","setValue","description","setDescription","handleCreate","expireDateParse","format","expire_date","resetState","Dialog","onClose","fullWidth","DialogTitle","DialogContent","TextField","autoFocus","margin","id","label","variant","onChange","e","target","LocalizationProvider","dateAdapter","AdapterDateFns","DatePicker","newValue","renderInput","params","style","padding","DialogActions","Button","Layout","title","useContext","history","useHistory","anchorEl","setAnchorEl","newBill","setNewBill","Boolean","document","handleLogout","push","AppBar","position","Toolbar","Typography","component","sx","flexGrow","name","display","mr","Fab","top","right","bottom","left","event","currentTarget","Menu","MenuListProps","MenuItem","ListItemIcon","to","textDecoration","Container","IndexPage","bills","setBills","useEffect","loadBills","length","List","width","bgcolor","map","bill","ListItem","secondaryAction","ListItemText","primary","moment","secondary","Fragment","Divider","Box","mt","SignInPage","useForm","register","handleSubmit","data","console","marginTop","flexDirection","alignItems","onSubmit","isBrowser","noValidate","required","autoComplete","mb","Link","href","SignUp","PrivateRoute","Component","rest","render","props","pathname","state","from","location","App","darkTheme","createTheme","palette","mode","ThemeProvider","theme","CssBaseline","path","exact","SignUpPage","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.38420f13.chunk.js","sourcesContent":["import { User } from '../interfaces'\n\nexport const getToken = () => localStorage.getItem('TOKEN_KEY')\n\nexport const getUser = () => JSON.parse(localStorage.getItem('USER') as string)\n\nexport const storeToken = (token: string) =>\n  localStorage.setItem('TOKEN_KEY', token)\n\nexport const storeUser = (user: User) =>\n  localStorage.setItem('USER', JSON.stringify(user))\n\nexport const clearStorage = () => {\n  localStorage.removeItem('TOKEN_KEY')\n  localStorage.removeItem('USER')\n}\n","import { getToken } from './storage'\n\nasync function api(url: string, method: string, body: object = null) {\n  const headers = {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n  }\n\n  const token = getToken()\n\n  if (token) {\n    headers['Authorization'] = `Bearer ${token}`\n  }\n\n  const response = await fetch(`${url}`, {\n    headers,\n    method,\n    body: body ? JSON.stringify(body) : null,\n  })\n\n  return response\n}\n\nexport { api }\n","import { createContext, useEffect, useState } from 'react'\nimport { api } from '../services/api'\nimport { User } from '../interfaces'\nimport {\n  clearStorage,\n  getToken,\n  getUser,\n  storeToken,\n  storeUser,\n} from '../services/storage'\n\ntype SignInData = {\n  email: string\n  password: string\n}\n\ntype AuthContextType = {\n  user: User\n  signIn: (data: SignInData) => Promise<void>\n  logout: () => void\n}\n\nexport const AuthContext = createContext({} as AuthContextType)\n\nexport function AuthProvider({ children }) {\n  const [user, setUser] = useState<User | null>(getUser())\n\n  async function signIn({ email, password }: SignInData) {\n    try {\n      const response = await api(`/api/v1/login`, 'POST', {\n        email,\n        password,\n      })\n\n      if (response.status === 200) {\n        const { user, token } = await response.json()\n\n        storeUser(user)\n        storeToken(token)\n\n        setUser(user)\n      } else {\n        const error = await response.json()\n        throw error.message\n      }\n    } catch (error) {\n      throw error\n    }\n  }\n\n  function logout() {\n    clearStorage()\n    setUser(null)\n  }\n\n  return (\n    <AuthContext.Provider\n      value={{\n        user,\n        signIn,\n        logout,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  )\n}\n","import { Alert, AlertColor, IconButton } from '@mui/material'\nimport CloseIcon from '@mui/icons-material/Close'\n\nexport default function ErrorAlert({\n  type = 'error' as AlertColor,\n  error,\n  handleClose,\n}) {\n  return (\n    <Alert\n      action={\n        <IconButton\n          aria-label='close'\n          color='inherit'\n          size='small'\n          onClick={handleClose}\n        >\n          <CloseIcon fontSize='inherit' />\n        </IconButton>\n      }\n      severity={type}\n    >\n      {error}\n    </Alert>\n  )\n}\n","import {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  TextField,\n} from '@mui/material'\nimport AdapterDateFns from '@mui/lab/AdapterDateFns'\nimport LocalizationProvider from '@mui/lab/LocalizationProvider'\nimport DatePicker from '@mui/lab/DatePicker'\nimport { useState } from 'react'\n\nimport ErrorAlert from './ErrorAlert'\nimport { api } from '../services/api'\nimport { format } from 'date-fns'\n\ntype Props = {\n  open: boolean\n  handleClose: () => void\n  reload?: () => void\n}\n\nexport default function BillDialog({ open, handleClose, reload }: Props) {\n  const [expireDate, setExpireDate] = useState<Date | null>(new Date())\n  const [error, setError] = useState<String | null>('')\n  const [value, setValue] = useState<String | null>('')\n  const [description, setDescription] = useState<String | null>('')\n\n  const handleCreate = async () => {\n    setError('')\n\n    let expireDateParse = format(expireDate, 'yyyyMMdd')\n\n    const response = await api(`/api/v1/bills`, 'POST', {\n      expire_date: expireDateParse,\n      value,\n      description,\n    })\n\n    if (response.status === 200) {\n      resetState()\n      handleClose()\n      reload()\n    } else {\n      const error = await response.json()\n      setError(error.message)\n    }\n  }\n\n  const resetState = () => {\n    setValue('')\n    setDescription('')\n    setExpireDate(null)\n    setError('')\n  }\n\n  return (\n    <div>\n      <Dialog open={open} onClose={handleClose} fullWidth>\n        <DialogTitle>Create a new bill</DialogTitle>\n        <DialogContent>\n          <TextField\n            autoFocus\n            margin='dense'\n            id='description'\n            label='Description'\n            type='text'\n            fullWidth\n            variant='standard'\n            value={description}\n            onChange={(e) => setDescription(e.target.value)}\n          />\n          <TextField\n            margin='dense'\n            id='value'\n            label='Value'\n            type='text'\n            fullWidth\n            variant='standard'\n            value={value}\n            onChange={(e) => setValue(e.target.value)}\n          />\n          <br />\n          <br />\n          <LocalizationProvider dateAdapter={AdapterDateFns}>\n            <DatePicker\n              label='Expire Date'\n              value={expireDate}\n              onChange={(newValue) => {\n                setExpireDate(newValue)\n              }}\n              renderInput={(params) => <TextField {...params} />}\n            />\n          </LocalizationProvider>\n        </DialogContent>\n        <div style={{ padding: '15px' }}>\n          {error && (\n            <ErrorAlert error={error} handleClose={() => setError(null)} />\n          )}\n        </div>\n        <DialogActions>\n          <Button onClick={handleClose}>Cancel</Button>\n          <Button onClick={handleCreate}>Create</Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  )\n}\n","import {\n  AppBar,\n  Container,\n  Toolbar,\n  Typography,\n  Button,\n  Fab,\n  Menu,\n  MenuItem,\n  ListItemIcon,\n} from '@mui/material'\nimport { ReactNode, useContext, useState } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport { AuthContext } from '../contexts/AuthContext'\nimport MenuIcon from '@mui/icons-material/Menu'\nimport LogoutIcon from '@mui/icons-material/Logout'\nimport AddIcon from '@mui/icons-material/Add'\nimport LoginIcon from '@mui/icons-material/Login'\nimport PersonAddIcon from '@mui/icons-material/PersonAdd'\nimport { BrowserView, MobileView } from 'react-device-detect'\nimport BillDialog from './BillDialog'\n\ntype Props = {\n  children?: ReactNode\n  title?: string\n}\n\nexport default function Layout({ children, title }: Props) {\n  const { logout, user } = useContext(AuthContext)\n  const history = useHistory()\n\n  const [anchorEl, setAnchorEl] = useState(null)\n  const [newBill, setNewBill] = useState(false)\n\n  const open = Boolean(anchorEl)\n\n  document.title = 'My Expenses ' + title\n\n  const handleLogout = () => {\n    logout()\n    history.push('/sign-in')\n  }\n\n  return (\n    <div>\n      <AppBar position='static'>\n        <Toolbar>\n          <Typography variant='h6' component='div' sx={{ flexGrow: 1 }}>\n            My Expenses {user && ` - ${user.name}`}\n          </Typography>\n          <BrowserView>\n            {user && [\n              <Button\n                onClick={() => setNewBill(true)}\n                sx={{ color: 'white', display: 'inline-block', mr: 1 }}\n              >\n                New\n              </Button>,\n              <Button\n                onClick={handleLogout}\n                sx={{ color: 'white', display: 'inline-block' }}\n              >\n                Logout\n              </Button>,\n            ]}\n          </BrowserView>\n        </Toolbar>\n      </AppBar>\n\n      <MobileView>\n        <Fab\n          size='small'\n          color='primary'\n          style={{\n            margin: 0,\n            top: 'auto',\n            right: 20,\n            bottom: 20,\n            left: 'auto',\n            position: 'fixed',\n          }}\n          onClick={(event) => setAnchorEl(event.currentTarget)}\n        >\n          <MenuIcon />\n        </Fab>\n\n        <Menu\n          id='basic-menu'\n          anchorEl={anchorEl}\n          open={open}\n          onClose={(e) => setAnchorEl(null)}\n          MenuListProps={{\n            'aria-labelledby': 'basic-button',\n          }}\n        >\n          {user\n            ? [\n                <MenuItem onClick={() => setNewBill(true)}>\n                  <ListItemIcon>\n                    <AddIcon />\n                  </ListItemIcon>\n                  New\n                </MenuItem>,\n                <MenuItem onClick={handleLogout}>\n                  <ListItemIcon>\n                    <LogoutIcon />\n                  </ListItemIcon>\n                  Logout\n                </MenuItem>,\n              ]\n            : [\n                <MenuItem onClick={(e) => setAnchorEl(null)}>\n                  <ListItemIcon>\n                    <PersonAddIcon />\n                  </ListItemIcon>\n                  <Link\n                    to='/sign-up'\n                    style={{ textDecoration: 'none', color: 'inherit' }}\n                  >\n                    Sign Up\n                  </Link>\n                </MenuItem>,\n                <MenuItem onClick={(e) => setAnchorEl(null)}>\n                  <ListItemIcon>\n                    <LoginIcon />\n                  </ListItemIcon>\n                  <Link\n                    to='/sign-in'\n                    style={{ textDecoration: 'none', color: 'inherit' }}\n                  >\n                    Sign In\n                  </Link>\n                </MenuItem>,\n              ]}\n        </Menu>\n      </MobileView>\n\n      <Container component='main'>{children}</Container>\n\n      {<BillDialog open={newBill} handleClose={() => setNewBill(false)} />}\n    </div>\n  )\n}\n","import React, { useContext, useEffect, useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { DataGrid } from '@mui/x-data-grid'\nimport {\n  Grid,\n  Box,\n  List,\n  ListItem,\n  Divider,\n  Typography,\n  ListItemText,\n  ListItemButton,\n  ListItemIcon,\n  IconButton,\n} from '@mui/material'\nimport moment from 'moment'\nimport InboxIcon from '@mui/icons-material/Inbox'\nimport DeleteIcon from '@mui/icons-material/Delete'\nimport EditIcon from '@mui/icons-material/Edit'\n\nimport Layout from '../components/Layout'\nimport { AuthContext } from '../contexts/AuthContext'\nimport { api } from '../services/api'\nimport ErrorAlert from '../components/ErrorAlert'\n\nconst columns = [\n  { field: 'id', headerName: 'ID', width: 300 },\n  { field: 'description', headerName: 'Description', width: 300 },\n  { field: 'expire_date', headerName: 'Expire Date', width: 200 },\n  { field: 'value', headerName: 'Value', width: 100 },\n]\n\nexport default function IndexPage() {\n  const { user } = useContext(AuthContext)\n  const history = useHistory()\n  const [bills, setBills] = useState([])\n  const [error, setError] = useState(null)\n\n  useEffect(() => {\n    if (!user) {\n      history.push('/sign-in')\n    }\n\n    loadBills()\n  }, [history, user])\n\n  const loadBills = async () => {\n    setError('')\n\n    const response = await api(`/api/v1/bills`, 'GET')\n\n    if (response.status === 200) {\n      const bills = await response.json()\n      setBills(bills)\n    } else {\n      const error = await response.json()\n      setError(error.message)\n    }\n  }\n\n  return (\n    <Layout title='Index'>\n      {error && <ErrorAlert error={error} handleClose={() => setError(null)} />}\n      {bills.length > 0 ? (\n        <List sx={{ width: '100%', bgcolor: 'background.paper' }}>\n          {bills.map((bill) => (\n            <>\n              <ListItem\n                secondaryAction={[\n                  <IconButton>\n                    <EditIcon />\n                  </IconButton>,\n                  <IconButton>\n                    <DeleteIcon />\n                  </IconButton>,\n                ]}\n              >\n                <ListItemText\n                  primary={`${moment(bill.expire_date).format(\n                    'DD/MM/YYYY'\n                  )} - ${bill.value} `}\n                  secondary={\n                    <React.Fragment>{bill.description}</React.Fragment>\n                  }\n                />\n              </ListItem>\n              <Divider variant='inset' component='li' />\n            </>\n          ))}\n        </List>\n      ) : (\n        <Box sx={{mt: 2}}>No bills found, create a new now</Box>\n      )}\n    </Layout>\n  )\n}\n","import { Box, Button, TextField, Link } from '@mui/material'\nimport { useForm } from 'react-hook-form'\nimport { useContext, useEffect, useState } from 'react'\nimport { useHistory, Link as LinkRouter } from 'react-router-dom'\nimport { isBrowser } from 'react-device-detect'\n\nimport Layout from '../components/Layout'\nimport { AuthContext } from '../contexts/AuthContext'\nimport ErrorAlert from '../components/ErrorAlert'\n\nexport default function SignInPage() {\n  const [error, setError] = useState('')\n  const { register, handleSubmit } = useForm()\n  const { signIn, user } = useContext(AuthContext)\n  const history = useHistory()\n\n  useEffect(() => {\n    if (user) {\n      history.push('/')\n    }\n  }, [])\n\n  async function handleSignIn(data: any) {\n    try {\n      await signIn(data)\n      history.push('/')\n    } catch (error) {\n      console.error(error)\n      setError(error)\n    }\n  }\n\n  return (\n    <Layout title={'Login'}>\n      <Box\n        sx={{\n          marginTop: 8,\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n        }}\n      >\n        <Box\n          component='form'\n          onSubmit={handleSubmit(handleSignIn)}\n          sx={isBrowser ? { mt: 1, width: '70%' } : { mt: 1, width: '90%' }}\n          noValidate\n        >\n          <TextField\n            margin='normal'\n            required\n            fullWidth\n            id='email'\n            label='Email Address'\n            name='email'\n            autoComplete='email'\n            autoFocus\n            {...register('email')}\n          />\n          <TextField\n            {...register('password')}\n            margin='normal'\n            required\n            fullWidth\n            name='password'\n            label='Password'\n            type='password'\n            id='password'\n            autoComplete='current-password'\n          />\n          <Button\n            type='submit'\n            fullWidth\n            variant='contained'\n            sx={{ mt: 3, mb: 2 }}\n          >\n            Sign In\n          </Button>\n          <Link href='/sign-up' variant='body2'>\n            <LinkRouter\n              to='/sign-up'\n              style={{ textDecoration: 'none', color: 'inherit' }}\n            >\n              {\"Don't have an account? Sign Up\"}\n            </LinkRouter>\n          </Link>\n          {error && (\n            <ErrorAlert error={error} handleClose={() => setError(null)} />\n          )}\n        </Box>\n      </Box>\n    </Layout>\n  )\n}\n","import { Button, TextField, Link, Box } from '@mui/material'\nimport { useForm } from 'react-hook-form'\nimport { useContext, useEffect, useState } from 'react'\nimport { useHistory, Link as LinkRouter } from 'react-router-dom'\nimport { isBrowser } from 'react-device-detect'\n\nimport ErrorAlert from '../components/ErrorAlert'\nimport Layout from '../components/Layout'\nimport { AuthContext } from '../contexts/AuthContext'\nimport { api } from '../services/api'\n\nexport default function SignUp() {\n  const [error, setError] = useState(null)\n  const { register, handleSubmit } = useForm()\n  const history = useHistory()\n  const { user, signIn } = useContext(AuthContext)\n\n  useEffect(() => {\n    if (user) {\n      history.push('/')\n    }\n  }, [])\n\n  async function handleSignUp({ name, email, password }) {\n    setError('')\n\n    const response = await api(`/api/v1/register`, 'POST', {\n      name,\n      email,\n      password,\n    })\n\n    if (response.status === 200) {\n      await signIn({ email, password })\n      history.push('/')\n    } else {\n      const error = await response.json()\n      setError(error.message)\n    }\n  }\n\n  return (\n    <Layout title={'Login'}>\n      <Box\n        sx={{\n          marginTop: 8,\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n        }}\n      >\n        <Box\n          component='form'\n          onSubmit={handleSubmit(handleSignUp)}\n          noValidate\n          sx={isBrowser ? { mt: 1, width: '70%' } : { mt: 1, width: '90%' }}\n        >\n          <TextField\n            margin='normal'\n            required\n            fullWidth\n            id='name'\n            label='Name'\n            name='name'\n            autoComplete='name'\n            autoFocus\n            {...register('name')}\n          />\n          <TextField\n            margin='normal'\n            required\n            fullWidth\n            id='email'\n            label='Email Address'\n            name='email'\n            autoComplete='email'\n            {...register('email')}\n          />\n          <TextField\n            margin='normal'\n            required\n            fullWidth\n            name='password'\n            label='Password'\n            type='password'\n            id='password'\n            autoComplete='current-password'\n            {...register('password')}\n          />\n          <Button\n            type='submit'\n            fullWidth\n            variant='contained'\n            sx={{ mt: 3, mb: 2 }}\n          >\n            Sign Up\n          </Button>\n          <Link variant='body2'>\n            <LinkRouter\n              to='/sign-in'\n              style={{ textDecoration: 'none', color: 'inherit' }}\n            >\n              {'Already have an account? Sign in'}\n            </LinkRouter>\n          </Link>\n          {error && (\n            <ErrorAlert error={error} handleClose={() => setError(null)} />\n          )}\n        </Box>\n      </Box>\n    </Layout>\n  )\n}\n","import { createTheme, ThemeProvider } from '@mui/material/styles'\nimport { useContext } from 'react'\nimport {\n  BrowserRouter as Router,\n  Redirect,\n  Route,\n  Switch,\n} from 'react-router-dom'\nimport { AuthContext } from './contexts/AuthContext'\nimport CssBaseline from '@mui/material/CssBaseline'\nimport { AuthProvider } from './contexts/AuthContext'\n\nimport IndexPage from './pages/IndexPage'\nimport SignInPage from './pages/SignInPage'\nimport SignUpPage from './pages/SignUpPage'\n\nimport './styles/global.css'\n\nfunction PrivateRoute({ component: Component, ...rest }) {\n  const { user } = useContext(AuthContext)\n\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        user ? (\n          <Component {...props} />\n        ) : (\n          <Redirect\n            to={{ pathname: '/sign-in', state: { from: props.location } }}\n          />\n        )\n      }\n    />\n  )\n}\n\nexport default function App() {\n  const darkTheme = createTheme({\n    palette: {\n      mode: 'dark',\n    },\n  })\n  return (\n    <ThemeProvider theme={darkTheme}>\n      <CssBaseline />\n      <AuthProvider>\n        <Router>\n          <Switch>\n            <PrivateRoute path='/' component={IndexPage} exact />\n            <Route path='/sign-in' component={SignInPage} exact />\n            <Route path='/sign-up' component={SignUpPage} exact />\n          </Switch>\n        </Router>\n      </AuthProvider>\n    </ThemeProvider>\n  )\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}